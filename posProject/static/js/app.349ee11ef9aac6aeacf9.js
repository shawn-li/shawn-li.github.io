webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leftNav"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1"}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"icon iconfont icon-fufei"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("收银")])]),t._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"icon iconfont icon-shouye"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("店铺")])]),t._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"icon iconfont icon-yingyangke"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("商品")])]),t._v(" "),a("el-menu-item",{attrs:{index:"4"}},[a("i",{staticClass:"icon iconfont icon-huangguan"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("会员")])]),t._v(" "),a("el-menu-item",{attrs:{index:"5"}},[a("i",{staticClass:"icon iconfont icon-zhongjinshu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("统计")])]),t._v(" "),a("el-menu-item",{attrs:{index:"6"}},[a("i",{staticClass:"icon iconfont icon-chufang"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])])],1)],1)},staticRenderFns:[]};var s={name:"App",components:{leftNav:a("VU/8")({data:function(){return{}}},o,!1,function(t){a("t4cO")},null,null).exports}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("leftNav",{staticClass:"left-nav"}),this._v(" "),e("div",{staticClass:"main"},[e("router-view")],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("d2rO")},null,null).exports,r=a("/ocq"),c=a("Gu7T"),d=a.n(c),m=a("Muz9"),u=a.n(m),p={name:"index",data:function(){return{activeName:"first",urls:{random:"https://www.themealdb.com/api/json/v1/1/random.php",areas:"https://www.themealdb.com/api/json/v1/1/list.php?a=list",categories:"https://www.themealdb.com/api/json/v1/1/list.php?c=list",queryByArea:"https://www.themealdb.com/api/json/v1/1/filter.php?a=",queryByCategories:"https://www.themealdb.com/api/json/v1/1/filter.php?c="},tableData:[],recommendGoods:[{idMeal:"52956",strMeal:"Chicken Congee",strMealThumb:"https://www.themealdb.com/images/media/meals/1529446352.jpg",price:18}],areas:[{strArea:"热门"}],details:[],detailsIndex:[{idMeal:"52952",strMeal:"Beef Lo Mein",strArea:"Chinese",strMealThumb:"https://www.themealdb.com/images/media/meals/1529444830.jpg",price:20},{idMeal:"52956",strMeal:"Chicken Congee",strMealThumb:"https://www.themealdb.com/images/media/meals/1529446352.jpg",price:18},{idMeal:"52955",strMeal:"Egg Drop Soup",strMealThumb:"https://www.themealdb.com/images/media/meals/1529446137.jpg",price:12},{idMeal:"52942",strMeal:"Roast fennel and aubergine paella",strMealThumb:"https://www.themealdb.com/images/media/meals/1520081754.jpg",price:20},{idMeal:"52773",strMeal:"Honey Teriyaki Salmon",strMealThumb:"https://www.themealdb.com/images/media/meals/xxyupu1468262513.jpg",price:18},{idMeal:"52839",price:19,strMeal:"Chilli prawn linguine",strMealThumb:"https://www.themealdb.com/images/media/meals/usywpp1511189717.jpg"}],typeGoods:[{goodsId:1,goodsImg:"https://img.4008823823.com.cn/kfcios/Version/621_626971.jpg",goodsName:"香辣鸡腿堡",price:18},{goodsId:2,goodsImg:"",goodsName:"田园鸡腿堡",price:15},{goodsId:3,goodsImg:"",goodsName:"和风汉堡",price:15},{goodsId:4,goodsImg:"",goodsName:"快乐全家桶",price:80},{goodsId:5,goodsImg:"",goodsName:"脆皮炸鸡腿",price:10},{goodsId:6,goodsImg:"",goodsName:"魔法鸡块",price:20},{goodsId:7,goodsImg:"",goodsName:"可乐大杯",price:10},{goodsId:8,goodsImg:"",goodsName:"雪顶咖啡",price:18},{goodsId:9,goodsImg:"",goodsName:"大块鸡米花",price:15},{goodsId:20,goodsImg:"",goodsName:"香脆鸡柳",price:17}]}},methods:{formatObj:function(t){return{goodsId:t.idMeal,goodsName:t.strMeal,count:1,price:t.price,allPrice:t.price}},priceRandom:function(){return Math.round(10*Math.random())+10},findNodeAnimate:function(t,e){t.forEach(function(t){if(t.className){t.className.split(" ").some(function(a,i,o){a==e&&(t.className+=" add-animation",setTimeout(function(){t.className=t.className.replace(" add-animation","")},800))});return!0}return!1})},handleOnload:function(){},handleClickTab:function(t,e){console.log(t)},handleAdd:function(t,e){if(this.tableData.some(function(t){return t.goodsId==e.goodsId})){var a=this.tableData.filter(function(t){return t.goodsId==e.goodsId});a[0].count+=1,a[0].allPrice+=e.price}else{var i=this.formatObj(e);this.tableData.push(i)}this.$notify({title:"新增一份",message:e.goodsName+"    +"+e.price+"元",position:"top-right"})},handleReduce:function(t,e){var a=this;if(1==e.count){var i=this.tableData.filter(function(t){return t.goodsId!=e.goodsId});this.tableData=[],i.forEach(function(t){a.tableData.push(t)})}else{(i=this.tableData.filter(function(t){return t.goodsId==e.goodsId}))[0].count--,i[0].allPrice-=e.price}this.$notify({title:"减去一份",message:e.goodsName+"    -"+e.price+"元",position:"top-right"})},handleRemove:function(t,e){var a=this,i=this.tableData.filter(function(t){return t.goodsId!=e.goodsId});this.tableData=[],i.forEach(function(t){a.tableData.push(t)})},handleTabClick:function(t){var e=this;if("热门"!=t.label){document.getElementById("details-loading-box").style.display="block";var a=this;console.log("查询"+t.label+"菜品"),u.a.get(a.urls.queryByArea+t.label).then(function(t){console.log(t),a.details=t.data.meals,a.details.every(function(t){return t.price=a.priceRandom()}),document.getElementById("details-loading-box").style.display="none",Array.prototype.forEach.call(document.getElementsByClassName("details-img"),function(t){t.onload=function(e){t.style.display="none"}})}).catch(function(t){console.log(t),e.$notify({title:"查询失败",message:t,position:"bottom-right"})})}else this.details=this.detailsIndex},addOrder:function(t,e){this.findNodeAnimate(t.path,"el-card");if(this.tableData.some(function(t){return t.goodsId==e.idMeal})){var a=this.tableData.filter(function(t){return t.goodsId==e.idMeal});a[0].count+=1,a[0].allPrice+=e.price}else{var i=this.formatObj(e);this.tableData.push(i)}this.$notify({title:"新增一份",message:e.strMeal+"    +"+e.price+"元",position:"top-right"})},listOrder:function(){console.log(this.tableData);var t="";this.tableData.forEach(function(e){t+=e.goodsName+"*"+e.count+"\n"}),this.$notify({title:"全部订单挂单",message:t,position:"top-right"})},checkOutOrder:function(){console.log(this.tableData);var t="";this.tableData.forEach(function(e){t+=e.goodsName+"*"+e.count+"\n"}),this.$notify({title:"全部订单结账",message:t,position:"top-right"})},removeOrder:function(){this.tableData=[],this.$notify({title:"删除全部订单",message:"",position:"top-right"})}},mounted:function(){document.getElementsByClassName("order-box")[0].style.height=document.documentElement.clientHeight+"px",document.getElementById("recommendGoods-img").onload=function(t){document.getElementById("recommendGoods-img-hide").style.display="none"},this.details=this.detailsIndex},created:function(){var t=this,e=this;u.a.get(this.urls.random).then(function(t){console.log(t),e.recommendGoods=t.data.meals,e.recommendGoods.every(function(t){return t.price=e.priceRandom()})}).catch(function(e){t.$notify({title:"查询失败",message:e,position:"bottom-right"})}),u.a.get(this.urls.areas).then(function(t){var a;console.log(t.data.meals),(a=e.areas).push.apply(a,d()(t.data.meals))}).catch(function(e){t.$notify({title:"查询失败",message:e,position:"bottom-right"})})}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"order-box"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClickTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"点餐",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"show-summary":""}},[a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",align:"center",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"数量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"allPrice",label:"总金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleAdd(e.$index,e.row)}}},[t._v("+")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleReduce(e.$index,e.row)}}},[t._v("-")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleRemove(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.listOrder()}}},[t._v("挂单")]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(e){return t.checkOutOrder()}}},[t._v("结账")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-edit"},on:{click:function(e){return t.removeOrder()}}},[t._v("删除")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"挂单",name:"second"}},[t._v("挂单")]),t._v(" "),a("el-tab-pane",{attrs:{label:"外卖",name:"third"}},[t._v("外卖")])],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"product-box"},[a("el-container",{attrs:{direction:"vertical"}},[a("el-main",{staticClass:"product-top"},[a("el-breadcrumb",[a("el-breadcrumb-item",[t._v("今日推荐")])],1),t._v(" "),a("div",{staticClass:"recommendGoods-box"},[t._l(t.recommendGoods,function(e){return a("el-card",{key:e.goodsId,staticClass:"box-card recommendGoods-card card-hover",nativeOn:{click:function(a){return t.addOrder(a,e)}}},[a("i",{staticClass:"icon iconfont icon-dangan",staticStyle:{position:"absolute",left:"5px",top:"5px"}}),t._v(" "),a("div",[a("span",[a("i",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.strMeal))])]),t._v(" "),a("div",{staticClass:"bottom clearfix"},[a("p",{staticStyle:{"font-size":"12px"}},[t._v("\n                                            起源地： "),a("i",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.strArea))])])])]),t._v(" "),a("div",{staticClass:"img-box",staticStyle:{height:"85px",position:"relative"}},[a("div",{staticStyle:{width:"100%",height:"85px",position:"absolute",top:"0px",left:"0px","background-color":"white","font-size":"40px"},attrs:{id:"recommendGoods-img-hide"}},[a("i",{staticClass:"el-icon-s-promotion",attrs:{width:"100"}})]),t._v(" "),a("img",{staticStyle:{width:"100%",display:"block"},attrs:{id:"recommendGoods-img",src:e.strMealThumb}})]),t._v(" "),a("span",{staticClass:"foodPrice",staticStyle:{"font-size":"14px"}},[t._v("￥ "+t._s(e.price)+"元")])])}),t._v(" "),a("div",{staticClass:"clear"})],2)],1),t._v(" "),a("el-main",{staticClass:"product-bottom",staticStyle:{padding:"0px"}},[a("div",{attrs:{id:"details-loading-box"}},[a("div",{staticClass:"loading1"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div")])]),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleTabClick}},t._l(t.areas,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.strArea}},[a("div",{staticClass:"details-box"},[t._l(t.details,function(e){return a("el-card",{key:e.idMeal,staticClass:"details-card card-hover",nativeOn:{click:function(a){return t.addOrder(a,e)}}},[a("div",{staticClass:"img-box",staticStyle:{height:"85px",position:"relative"}},[a("div",{staticClass:"details-img-hide",staticStyle:{display:"none",width:"100%",height:"85px",position:"absolute",top:"0px",left:"0px","background-color":"white","font-size":"40px"},attrs:{"img-link":e.idMeal}},[a("i",{staticClass:"el-icon-s-promotion",attrs:{width:"100"}})]),t._v(" "),a("img",{staticClass:"details-img",staticStyle:{width:"100%",display:"block"},attrs:{src:e.strMealThumb,"img-link":e.idMeal},on:{load:function(e){return t.handleOnload()}}})]),t._v(" "),a("p",{staticClass:"foodName",staticStyle:{"font-size":"12px"}},[t._v(t._s(e.strMeal))]),t._v(" "),a("span",{staticClass:"foodPrice",staticStyle:{"font-size":"14px"}},[t._v("￥ "+t._s(e.price)+"元")])])}),t._v(" "),a("div",{staticClass:"clearfix"})],2)])}),1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(p,h,!1,function(t){a("rwuv")},null,null).exports;i.default.use(r.a);var f=new r.a({routes:[{path:"/",name:"index",component:g}]}),v=a("NxjZ"),b=a.n(v);a("zlkP");i.default.use(b.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:f,components:{App:l},template:"<App/>"})},d2rO:function(t,e){},rwuv:function(t,e){},t4cO:function(t,e){},zlkP:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.349ee11ef9aac6aeacf9.js.map