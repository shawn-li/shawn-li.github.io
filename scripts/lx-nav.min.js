!function(a,o){a.fn.lxnav=function(t){var n=a(window),e=a(".lx-nav"),l=a("html,body"),i=(a("#wrap"),a(".lx-nav-wrap")),r=a(".lx-nav-pre"),s=a(".lx-nav-next"),c=a(".lx-nav-section"),v=a(".lx-nav-item"),d=a(".lx-nav-box"),f=a(".lx-nav-flag"),u=a.extend({},a.fn.lxnav.default,t);a(".lx-nav-item").length;"auto"!=u.sidebarHeight&&"number"==typeof u.sidebarHeight&&e.css("height",u.sidebarHeight),"auto"!=u.wrapWidth?e.css("width",u.navWidth):e.css("width","100%"),"auto"!=u.sectionHeight&&"number"==typeof u.sectionHeight?c.css("height",u.sectionHeight):"auto"==u.sectionHeight&&(u.sectionHeight=c.eq(1).offset().top),u.lxnavFlag?f.find("a").html("fixed导航-关"):(f.find("a").html("fixed导航-开"),console.log(u.lxnavFlag)),"auto"!=u.preAndNextBox_Top&&d.css({top:u.preAndNextBox_Top}),"auto"!=u.preAndNextBox_Right&&d.css({right:u.preAndNextBox_Right}),u.lxNavTotop&&($lxNav_toTop=a(u.lxNavTotop));for(var x=[],g=0;g<c.length;g++)console.log(g+"==="+c.eq(g).offset().top),x.push(o.round(c.eq(g).offset().top));for(var h=[],g=0;g<v.length;g++)h.push(c.eq(g).attr("data-lx-nav"));for(var p=[],g=0;g<v.length;g++)p.push(v.eq(g).attr("data-lx-nav"));console.log(x),console.log(h),console.log(p),i.css({"background-color":u.navBgColor}),i.css({"-moz-opacity":u.navOpacity,"-ms-opacity":u.navOpacity,"-webkit-opacity":u.navOpacity,opacity:u.navOpacity});var m=function(o){var t;return c.each(function(){a(this).attr("data-lx-nav")==o&&(t=a(this).offset().top,console.log("top--"+t))}),t},T=function(a){for(var t=0,n=0,e=0,l=0;l<x.length;l++)a>x[l]&&(t=o.round(x[l]),n=l);for(var i=h[n],l=0;l<p.length;l++)p[l]==i&&(e=l,v.eq(e).addClass("active"));return console.log("nav目标data-lx-nav值"+i),console.log("section目标序号"+n),console.log("nav目标序号"+e),t},y=function(a){for(var t=0,n=0,e=0,l=x.length-1;l>0;l--)o.round(a)<x[l]&&(t=o.round(x[l]),n=l);for(var i=h[n],l=0;l<p.length;l++)p[l]==i&&(e=l,v.eq(e).addClass("active"));return console.log("nav目标data-lx-nav值"+i),console.log("section目标序号"+n),console.log("nav目标序号"+e),t};v.click(function(o){var t=a(this),n=t.parent().parent().children();a(n).find("a").removeClass("active"),t.addClass("active"),console.log(t.attr("data-lx-nav"));var e=t.attr("data-lx-nav"),r=m(e);return console.log(r),l.animate({scrollTop:r},800),u.afterScroll(r),0==r?i.fadeOut("fast"):(i.fadeIn("slow"),console.log(333)),!1}),a(window).scroll(function(a){i.fadeOut("fast")}),l.bind("mousewheel",function(){a(".lx-nav-item").removeClass("active")}),f.click(function(){return u.lxnavFlag?(u.lxnavFlag=!1,a(this).find("a").html("fixed导航-开"),!1):(u.lxnavFlag=!0,a(this).find("a").html("fixed导航-关"),!1)}),l.click(function(a){if(!u.lxnavFlag)return!1;if(n.scrollTop()>=o.round(u.sectionHeight)){if("none"==i.css("display"))return i.fadeIn("fast"),!1;if("block"==i.css("display"))return i.fadeOut("fast"),!1}}),r.click(function(){v.removeClass("active");var a=n.scrollTop(),t=T(a),e=x.indexOf(o.round(t)),i=c.eq(e).attr("data-lx-nav"),r=p.indexOf(i);return v.eq(r).addClass("active"),l.animate({scrollTop:t},800),console.log("目标滚动到的位置"+t),u.afterScroll(t),!1}),s.click(function(){v.removeClass("active");var a=n.scrollTop();console.log(a);var t=y(a),e=x.indexOf(o.round(t)),i=c.eq(e).attr("data-lx-nav"),r=p.indexOf(i);return v.eq(r).addClass("active"),l.animate({scrollTop:t},800),console.log("目标滚动到的位置"+t),u.afterScroll(t),!1}),$lxNav_toTop.click(function(){return v.removeClass("active"),l.animate({scrollTop:0},800),!1})},a.fn.lxnav.default={sidebarHeight:"auto",sectionHeight:"auto",navItemWidth:"auto",navWidth:"100%",navBgColor:"#fff",navOpacity:.8,preAndNextBox_Top:"auto",preAndNextBox_Right:"auto",lxnavFlag:!0,lxNavTotop:".js-Totop",afterScroll:function(a){}}}(jQuery,Math);